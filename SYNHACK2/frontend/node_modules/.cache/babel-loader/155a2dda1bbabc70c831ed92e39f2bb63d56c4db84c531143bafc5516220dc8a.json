{"ast":null,"code":"var _jsxFileName = \"/Users/ankurkumar/SYNHACK2/frontend/src/pages/WorkerDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { worker } from '../api';\nimport './WorkerDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WorkerDashboard() {\n  _s();\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n  const [tasks, setTasks] = useState([]);\n  const [profile, setProfile] = useState(null);\n  const [activeTab, setActiveTab] = useState('pending');\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [progressPhoto, setProgressPhoto] = useState(null);\n  const [completionPhoto, setCompletionPhoto] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  useEffect(() => {\n    loadTasks();\n    loadProfile();\n  }, []);\n  const loadTasks = async () => {\n    try {\n      const response = await worker.getTasks();\n      setTasks(response.data.tasks);\n    } catch (err) {\n      console.error('Failed to load tasks', err);\n    }\n  };\n  const loadProfile = async () => {\n    try {\n      const response = await worker.getProfile();\n      setProfile(response.data);\n    } catch (err) {\n      console.error('Failed to load profile', err);\n    }\n  };\n  const handlePhotoCapture = (e, type) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        if (type === 'progress') {\n          setProgressPhoto(reader.result);\n        } else {\n          setCompletionPhoto(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleUploadProgressPhoto = async taskId => {\n    if (!progressPhoto) {\n      alert('Please capture a photo first');\n      return;\n    }\n    setUploading(true);\n    try {\n      await worker.uploadProgressPhoto(taskId, progressPhoto);\n      alert('Progress photo uploaded! Task marked as in progress.');\n      setProgressPhoto(null);\n      setSelectedTask(null);\n      loadTasks();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert('Failed to upload photo: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleUploadCompletionPhoto = async taskId => {\n    if (!completionPhoto) {\n      alert('Please capture a photo first');\n      return;\n    }\n    setUploading(true);\n    try {\n      await worker.uploadCompletionPhoto(taskId, completionPhoto);\n      alert('Task completed! Photo uploaded successfully.');\n      setCompletionPhoto(null);\n      setSelectedTask(null);\n      loadTasks();\n      loadProfile(); // Refresh profile to update completed tasks count\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      alert('Failed to upload photo: ' + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || err.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.clear();\n    navigate('/');\n  };\n  const renderStars = rating => {\n    return '⭐'.repeat(Math.round(rating));\n  };\n  if (!user || !user.name) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"worker-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Worker Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '20px'\n          },\n          children: [\"Welcome, \", user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"worker-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === 'tasks' ? 'tab-active' : '',\n        onClick: () => setActiveTab('tasks'),\n        children: \"My Tasks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: activeTab === 'profile' ? 'tab-active' : '',\n        onClick: () => setActiveTab('profile'),\n        children: \"My Profile & Ratings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), activeTab === 'tasks' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Assigned Tasks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"complaints-list\",\n        children: tasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No tasks assigned yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this) : tasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"complaint-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: task.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: task.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Category:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 22\n            }, this), \" \", task.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 22\n            }, this), \" \", task.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `badge badge-${task.status}`,\n              children: task.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `badge badge-${task.priority}`,\n              children: task.priority\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 19\n          }, this), task.progress_photo_url && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photo-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Progress Photo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: task.progress_photo_url,\n              alt: \"Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 21\n          }, this), task.completion_photo_url && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photo-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Completion Photo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: task.completion_photo_url,\n              alt: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }, this), task.worker_rating && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-display\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Student Rating:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 23\n            }, this), \" \", renderStars(task.worker_rating), \" (\", task.worker_rating, \"/5)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '15px'\n            },\n            children: [task.status === 'assigned' && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => setSelectedTask({\n                id: task.id,\n                action: 'progress'\n              }),\n              children: \"Upload Progress Photo & Start Work\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 23\n            }, this), task.status === 'in_progress' && !task.completion_photo_url && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success\",\n              onClick: () => setSelectedTask({\n                id: task.id,\n                action: 'complete'\n              }),\n              children: \"Upload Completion Photo & Mark Complete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 19\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), activeTab === 'profile' && profile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: renderStars(profile.profile.average_rating || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Average Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"stat-number\",\n              children: [(profile.profile.average_rating || 0).toFixed(2), \"/5.0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: profile.profile.total_ratings || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Total Ratings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: profile.profile.completed_tasks || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Completed Tasks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Ratings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ratings-list\",\n          children: profile.ratings && profile.ratings.length > 0 ? profile.ratings.map((rating, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-stars\",\n                children: renderStars(rating.rating)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-date\",\n                children: new Date(rating.created_at).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 21\n            }, this), rating.feedback && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"rating-feedback\",\n              children: [\"\\\"\", rating.feedback, \"\\\"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 23\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No ratings yet. Complete tasks to receive ratings!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this), selectedTask && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setSelectedTask(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: selectedTask.action === 'progress' ? 'Upload Progress Photo' : 'Upload Completion Photo'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectedTask.action === 'progress' ? 'Take a photo showing the problem/issue before you start working.' : 'Take a photo showing the completed work.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          capture: \"environment\",\n          onChange: e => handlePhotoCapture(e, selectedTask.action === 'progress' ? 'progress' : 'completion'),\n          style: {\n            marginBottom: '15px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), (selectedTask.action === 'progress' ? progressPhoto : completionPhoto) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"photo-preview\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedTask.action === 'progress' ? progressPhoto : completionPhoto,\n            alt: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => {\n              if (selectedTask.action === 'progress') {\n                handleUploadProgressPhoto(selectedTask.id);\n              } else {\n                handleUploadCompletionPhoto(selectedTask.id);\n              }\n            },\n            disabled: uploading || (selectedTask.action === 'progress' ? !progressPhoto : !completionPhoto),\n            children: uploading ? 'Uploading...' : 'Upload & Submit'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setSelectedTask(null),\n            disabled: uploading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_s(WorkerDashboard, \"3KggaZPAhfsBV00uIt0P0+4Y0sk=\", false, function () {\n  return [useNavigate];\n});\n_c = WorkerDashboard;\nexport default WorkerDashboard;\nvar _c;\n$RefreshReg$(_c, \"WorkerDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","worker","jsxDEV","_jsxDEV","WorkerDashboard","_s","navigate","user","JSON","parse","localStorage","getItem","tasks","setTasks","profile","setProfile","activeTab","setActiveTab","selectedTask","setSelectedTask","progressPhoto","setProgressPhoto","completionPhoto","setCompletionPhoto","uploading","setUploading","loadTasks","loadProfile","response","getTasks","data","err","console","error","getProfile","handlePhotoCapture","e","type","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleUploadProgressPhoto","taskId","alert","uploadProgressPhoto","_err$response","_err$response$data","message","handleUploadCompletionPhoto","uploadCompletionPhoto","_err$response2","_err$response2$data","handleLogout","clear","renderStars","rating","repeat","Math","round","name","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","className","marginRight","onClick","length","map","task","title","description","category","location","status","priority","progress_photo_url","src","alt","completion_photo_url","worker_rating","marginTop","id","action","average_rating","toFixed","total_ratings","completed_tasks","ratings","index","Date","created_at","toLocaleDateString","feedback","stopPropagation","accept","capture","onChange","marginBottom","disabled","_c","$RefreshReg$"],"sources":["/Users/ankurkumar/SYNHACK2/frontend/src/pages/WorkerDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { worker } from '../api';\nimport './WorkerDashboard.css';\n\nfunction WorkerDashboard() {\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n  const [tasks, setTasks] = useState([]);\n  const [profile, setProfile] = useState(null);\n  const [activeTab, setActiveTab] = useState('pending');\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [progressPhoto, setProgressPhoto] = useState(null);\n  const [completionPhoto, setCompletionPhoto] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    loadTasks();\n    loadProfile();\n  }, []);\n\n  const loadTasks = async () => {\n    try {\n      const response = await worker.getTasks();\n      setTasks(response.data.tasks);\n    } catch (err) {\n      console.error('Failed to load tasks', err);\n    }\n  };\n\n  const loadProfile = async () => {\n    try {\n      const response = await worker.getProfile();\n      setProfile(response.data);\n    } catch (err) {\n      console.error('Failed to load profile', err);\n    }\n  };\n\n  const handlePhotoCapture = (e, type) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        if (type === 'progress') {\n          setProgressPhoto(reader.result);\n        } else {\n          setCompletionPhoto(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleUploadProgressPhoto = async (taskId) => {\n    if (!progressPhoto) {\n      alert('Please capture a photo first');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      await worker.uploadProgressPhoto(taskId, progressPhoto);\n      alert('Progress photo uploaded! Task marked as in progress.');\n      setProgressPhoto(null);\n      setSelectedTask(null);\n      loadTasks();\n    } catch (err) {\n      alert('Failed to upload photo: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleUploadCompletionPhoto = async (taskId) => {\n    if (!completionPhoto) {\n      alert('Please capture a photo first');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      await worker.uploadCompletionPhoto(taskId, completionPhoto);\n      alert('Task completed! Photo uploaded successfully.');\n      setCompletionPhoto(null);\n      setSelectedTask(null);\n      loadTasks();\n      loadProfile(); // Refresh profile to update completed tasks count\n    } catch (err) {\n      alert('Failed to upload photo: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    navigate('/');\n  };\n\n  const renderStars = (rating) => {\n    return '⭐'.repeat(Math.round(rating));\n  };\n\n  if (!user || !user.name) {\n    return (\n      <div style={{ padding: '20px', textAlign: 'center' }}>\n        <h2>Loading...</h2>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"worker-container\">\n      <div className=\"navbar\">\n        <h1>Worker Dashboard</h1>\n        <div>\n          <span style={{ marginRight: '20px' }}>Welcome, {user.name}</span>\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      </div>\n\n      <div className=\"worker-tabs\">\n        <button \n          className={activeTab === 'tasks' ? 'tab-active' : ''}\n          onClick={() => setActiveTab('tasks')}\n        >\n          My Tasks\n        </button>\n        <button \n          className={activeTab === 'profile' ? 'tab-active' : ''}\n          onClick={() => setActiveTab('profile')}\n        >\n          My Profile & Ratings\n        </button>\n      </div>\n\n      {activeTab === 'tasks' && (\n        <div className=\"dashboard\">\n          <h2>My Assigned Tasks</h2>\n\n          <div className=\"complaints-list\">\n            {tasks.length === 0 ? (\n              <p>No tasks assigned yet.</p>\n            ) : (\n              tasks.map((task) => (\n                <div key={task.id} className=\"complaint-card\">\n                  <h4>{task.title}</h4>\n                  <p>{task.description}</p>\n                  <p><strong>Category:</strong> {task.category}</p>\n                  <p><strong>Location:</strong> {task.location}</p>\n                  <div>\n                    <span className={`badge badge-${task.status}`}>{task.status}</span>\n                    <span className={`badge badge-${task.priority}`}>{task.priority}</span>\n                  </div>\n\n                  {task.progress_photo_url && (\n                    <div className=\"photo-preview\">\n                      <p><strong>Progress Photo:</strong></p>\n                      <img src={task.progress_photo_url} alt=\"Progress\" />\n                    </div>\n                  )}\n\n                  {task.completion_photo_url && (\n                    <div className=\"photo-preview\">\n                      <p><strong>Completion Photo:</strong></p>\n                      <img src={task.completion_photo_url} alt=\"Completed\" />\n                    </div>\n                  )}\n\n                  {task.worker_rating && (\n                    <div className=\"rating-display\">\n                      <strong>Student Rating:</strong> {renderStars(task.worker_rating)} ({task.worker_rating}/5)\n                    </div>\n                  )}\n\n                  <div style={{ marginTop: '15px' }}>\n                    {task.status === 'assigned' && (\n                      <button \n                        className=\"btn btn-primary\" \n                        onClick={() => setSelectedTask({ id: task.id, action: 'progress' })}\n                      >\n                        Upload Progress Photo & Start Work\n                      </button>\n                    )}\n                    {task.status === 'in_progress' && !task.completion_photo_url && (\n                      <button \n                        className=\"btn btn-success\" \n                        onClick={() => setSelectedTask({ id: task.id, action: 'complete' })}\n                      >\n                        Upload Completion Photo & Mark Complete\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'profile' && profile && (\n        <div className=\"dashboard\">\n          <div className=\"profile-section\">\n            <h2>My Profile</h2>\n            <div className=\"profile-stats\">\n              <div className=\"stat-card\">\n                <h3>{renderStars(profile.profile.average_rating || 0)}</h3>\n                <p>Average Rating</p>\n                <p className=\"stat-number\">{(profile.profile.average_rating || 0).toFixed(2)}/5.0</p>\n              </div>\n              <div className=\"stat-card\">\n                <h3>{profile.profile.total_ratings || 0}</h3>\n                <p>Total Ratings</p>\n              </div>\n              <div className=\"stat-card\">\n                <h3>{profile.profile.completed_tasks || 0}</h3>\n                <p>Completed Tasks</p>\n              </div>\n            </div>\n\n            <h3>Recent Ratings</h3>\n            <div className=\"ratings-list\">\n              {profile.ratings && profile.ratings.length > 0 ? (\n                profile.ratings.map((rating, index) => (\n                  <div key={index} className=\"rating-card\">\n                    <div className=\"rating-header\">\n                      <span className=\"rating-stars\">{renderStars(rating.rating)}</span>\n                      <span className=\"rating-date\">\n                        {new Date(rating.created_at).toLocaleDateString()}\n                      </span>\n                    </div>\n                    {rating.feedback && (\n                      <p className=\"rating-feedback\">\"{rating.feedback}\"</p>\n                    )}\n                  </div>\n                ))\n              ) : (\n                <p>No ratings yet. Complete tasks to receive ratings!</p>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Photo Upload Modal */}\n      {selectedTask && (\n        <div className=\"modal-overlay\" onClick={() => setSelectedTask(null)}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <h3>\n              {selectedTask.action === 'progress' \n                ? 'Upload Progress Photo' \n                : 'Upload Completion Photo'}\n            </h3>\n            <p>\n              {selectedTask.action === 'progress'\n                ? 'Take a photo showing the problem/issue before you start working.'\n                : 'Take a photo showing the completed work.'}\n            </p>\n\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              capture=\"environment\"\n              onChange={(e) => handlePhotoCapture(e, selectedTask.action === 'progress' ? 'progress' : 'completion')}\n              style={{ marginBottom: '15px' }}\n            />\n\n            {(selectedTask.action === 'progress' ? progressPhoto : completionPhoto) && (\n              <div className=\"photo-preview\">\n                <img \n                  src={selectedTask.action === 'progress' ? progressPhoto : completionPhoto} \n                  alt=\"Preview\" \n                />\n              </div>\n            )}\n\n            <div className=\"modal-actions\">\n              <button \n                className=\"btn btn-primary\"\n                onClick={() => {\n                  if (selectedTask.action === 'progress') {\n                    handleUploadProgressPhoto(selectedTask.id);\n                  } else {\n                    handleUploadCompletionPhoto(selectedTask.id);\n                  }\n                }}\n                disabled={uploading || (selectedTask.action === 'progress' ? !progressPhoto : !completionPhoto)}\n              >\n                {uploading ? 'Uploading...' : 'Upload & Submit'}\n              </button>\n              <button \n                className=\"btn btn-secondary\"\n                onClick={() => setSelectedTask(null)}\n                disabled={uploading}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default WorkerDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}